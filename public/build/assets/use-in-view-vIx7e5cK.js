import{r as g}from"./app-sjKXtZav.js";import{g as v}from"./motion-SyEdFAlG.js";function E(n,t,e){var i;if(typeof n=="string"){let r=document;t&&(v(!!t.current),r=t.current),e?((i=e[n])!==null&&i!==void 0||(e[n]=r.querySelectorAll(n)),n=e[n]):n=r.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}const I={some:0,all:1};function p(n,t,{root:e,margin:i,amount:r="some"}={}){const u=E(n),s=new WeakMap,c=a=>{a.forEach(o=>{const l=s.get(o.target);if(o.isIntersecting!==!!l)if(o.isIntersecting){const d=t(o);typeof d=="function"?s.set(o.target,d):f.unobserve(o.target)}else l&&(l(o),s.delete(o.target))})},f=new IntersectionObserver(c,{root:e,rootMargin:i,threshold:typeof r=="number"?r:I[r]});return u.forEach(a=>f.observe(a)),()=>f.disconnect()}function h(n,{root:t,margin:e,amount:i,once:r=!1}={}){const[u,s]=g.useState(!1);return g.useEffect(()=>{if(!n.current||r&&u)return;const c=()=>(s(!0),r?void 0:()=>s(!1)),f={root:t&&t.current||void 0,margin:e,amount:i};return p(n.current,c,f)},[t,n,e,r]),u}export{E as r,h as u};
